{"ast":null,"code":"import{useQuery}from\"react-query\";import{fetchCoinHistory}from\"../api\";import ApexChart from\"react-apexcharts\";import{jsx as _jsx}from\"react/jsx-runtime\";function Price(_ref){var coinId=_ref.coinId;var _useQuery=useQuery([\"ohlcv\",coinId],function(){return fetchCoinHistory(coinId);}),isLoading=_useQuery.isLoading,data=_useQuery.data;return/*#__PURE__*/_jsx(\"div\",{children:isLoading?\"Loading Price...\":/*#__PURE__*/_jsx(ApexChart,{type:\"candlestick\",series:[{data:[{x:new Date(\"\".concat(data===null||data===void 0?void 0:data.time_open)),y:[data===null||data===void 0?void 0:data.open,data===null||data===void 0?void 0:data.high,data===null||data===void 0?void 0:data.low,data===null||data===void 0?void 0:data.close]}]}],options:{theme:{mode:\"dark\"},chart:{height:300,width:500,toolbar:{show:false},background:\"transparent\"},grid:{show:false},stroke:{curve:\"smooth\",width:4},yaxis:{show:false},xaxis:{axisBorder:{show:false},axisTicks:{show:false},labels:{show:false,datetimeFormatter:{month:\"mmm 'yy\"}},type:\"datetime\"},fill:{type:\"gradient\",gradient:{gradientToColors:[\"#0be881\"],stops:[0,100]}},colors:[\"#0fbcf9\"],tooltip:{y:{formatter:function formatter(value){return\"$\".concat(value.toFixed(3));}}}}})});}export default Price;","map":{"version":3,"names":["useQuery","fetchCoinHistory","ApexChart","Price","coinId","isLoading","data","x","Date","time_open","y","open","high","low","close","theme","mode","chart","height","width","toolbar","show","background","grid","stroke","curve","yaxis","xaxis","axisBorder","axisTicks","labels","datetimeFormatter","month","type","fill","gradient","gradientToColors","stops","colors","tooltip","formatter","value","toFixed"],"sources":["/Users/DSM20221/jikwan/github/TIL/memo/react-masterclass/src/routes/Price.tsx"],"sourcesContent":["import { useQuery } from \"react-query\";\nimport { fetchCoinHistory } from \"../api\";\nimport ApexChart from \"react-apexcharts\";\n\ninterface PriceProps {\n  coinId: string;\n}\n\ninterface IHistorical {\n  time_open: number;\n  time_close: number;\n  open: string;\n  high: string;\n  low: string;\n  close: string;\n  volume: string;\n  market_cap: number;\n}\n\nfunction Price({ coinId }: PriceProps) {\n  const { isLoading, data } = useQuery<IHistorical>([\"ohlcv\", coinId], () => fetchCoinHistory(coinId));\n  return (\n    <div>\n      {isLoading ? (\n        \"Loading Price...\"\n      ) : (\n        <ApexChart\n          type=\"candlestick\"\n          series={[\n            {\n              data: [\n                {\n                  x: new Date(`${data?.time_open}`),\n                  y: [data?.open, data?.high, data?.low, data?.close],\n                },\n              ],\n            },\n          ]}\n          options={{\n            theme: {\n              mode: \"dark\",\n            },\n            chart: {\n              height: 300,\n              width: 500,\n              toolbar: {\n                show: false,\n              },\n              background: \"transparent\",\n            },\n            grid: { show: false },\n            stroke: {\n              curve: \"smooth\",\n              width: 4,\n            },\n            yaxis: {\n              show: false,\n            },\n            xaxis: {\n              axisBorder: {\n                show: false,\n              },\n              axisTicks: {\n                show: false,\n              },\n              labels: { show: false, datetimeFormatter: { month: \"mmm 'yy\" } },\n              type: \"datetime\",\n            },\n            fill: {\n              type: \"gradient\",\n              gradient: { gradientToColors: [\"#0be881\"], stops: [0, 100] },\n            },\n            colors: [\"#0fbcf9\"],\n            tooltip: {\n              y: {\n                formatter: (value) => `$${value.toFixed(3)}`,\n              },\n            },\n          }}\n        ></ApexChart>\n      )}\n    </div>\n  );\n}\n\nexport default Price;\n"],"mappings":"AAAA,OAASA,QAAT,KAAyB,aAAzB,CACA,OAASC,gBAAT,KAAiC,QAAjC,CACA,MAAOC,UAAP,KAAsB,kBAAtB,C,2CAiBA,QAASC,MAAT,MAAuC,IAAtBC,OAAsB,MAAtBA,MAAsB,CACrC,cAA4BJ,QAAQ,CAAc,CAAC,OAAD,CAAUI,MAAV,CAAd,CAAiC,iBAAMH,iBAAgB,CAACG,MAAD,CAAtB,EAAjC,CAApC,CAAQC,SAAR,WAAQA,SAAR,CAAmBC,IAAnB,WAAmBA,IAAnB,CACA,mBACE,qBACGD,SAAS,CACR,kBADQ,cAGR,KAAC,SAAD,EACE,IAAI,CAAC,aADP,CAEE,MAAM,CAAE,CACN,CACEC,IAAI,CAAE,CACJ,CACEC,CAAC,CAAE,GAAIC,KAAJ,WAAYF,IAAZ,SAAYA,IAAZ,iBAAYA,IAAI,CAAEG,SAAlB,EADL,CAEEC,CAAC,CAAE,CAACJ,IAAD,SAACA,IAAD,iBAACA,IAAI,CAAEK,IAAP,CAAaL,IAAb,SAAaA,IAAb,iBAAaA,IAAI,CAAEM,IAAnB,CAAyBN,IAAzB,SAAyBA,IAAzB,iBAAyBA,IAAI,CAAEO,GAA/B,CAAoCP,IAApC,SAAoCA,IAApC,iBAAoCA,IAAI,CAAEQ,KAA1C,CAFL,CADI,CADR,CADM,CAFV,CAYE,OAAO,CAAE,CACPC,KAAK,CAAE,CACLC,IAAI,CAAE,MADD,CADA,CAIPC,KAAK,CAAE,CACLC,MAAM,CAAE,GADH,CAELC,KAAK,CAAE,GAFF,CAGLC,OAAO,CAAE,CACPC,IAAI,CAAE,KADC,CAHJ,CAMLC,UAAU,CAAE,aANP,CAJA,CAYPC,IAAI,CAAE,CAAEF,IAAI,CAAE,KAAR,CAZC,CAaPG,MAAM,CAAE,CACNC,KAAK,CAAE,QADD,CAENN,KAAK,CAAE,CAFD,CAbD,CAiBPO,KAAK,CAAE,CACLL,IAAI,CAAE,KADD,CAjBA,CAoBPM,KAAK,CAAE,CACLC,UAAU,CAAE,CACVP,IAAI,CAAE,KADI,CADP,CAILQ,SAAS,CAAE,CACTR,IAAI,CAAE,KADG,CAJN,CAOLS,MAAM,CAAE,CAAET,IAAI,CAAE,KAAR,CAAeU,iBAAiB,CAAE,CAAEC,KAAK,CAAE,SAAT,CAAlC,CAPH,CAQLC,IAAI,CAAE,UARD,CApBA,CA8BPC,IAAI,CAAE,CACJD,IAAI,CAAE,UADF,CAEJE,QAAQ,CAAE,CAAEC,gBAAgB,CAAE,CAAC,SAAD,CAApB,CAAiCC,KAAK,CAAE,CAAC,CAAD,CAAI,GAAJ,CAAxC,CAFN,CA9BC,CAkCPC,MAAM,CAAE,CAAC,SAAD,CAlCD,CAmCPC,OAAO,CAAE,CACP7B,CAAC,CAAE,CACD8B,SAAS,CAAE,mBAACC,KAAD,mBAAeA,KAAK,CAACC,OAAN,CAAc,CAAd,CAAf,GADV,CADI,CAnCF,CAZX,EAJJ,EADF,CA8DD,CAED,cAAevC,MAAf"},"metadata":{},"sourceType":"module"}